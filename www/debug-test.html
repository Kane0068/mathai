<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-4">
    <div class="max-w-md mx-auto">
        <h1 class="text-2xl font-bold mb-4">Debug Test</h1>
        
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-1">Test Input:</label>
                <textarea id="test-input" class="w-full p-2 border rounded" placeholder="Enter math problem...">2x + 3 = 7</textarea>
            </div>
            
            <button id="test-btn" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600">
                Test Question Processing
            </button>
            
            <div id="test-result" class="p-4 bg-gray-100 rounded hidden">
                <h3 class="font-bold mb-2">Result:</h3>
                <div id="result-content"></div>
            </div>
            
            <div id="error-log" class="p-4 bg-red-100 rounded hidden">
                <h3 class="font-bold mb-2 text-red-700">Errors:</h3>
                <div id="error-content"></div>
            </div>
        </div>
    </div>

    <script type="module">
        console.log('Debug test starting...');
        
        // Test imports
        try {
            const { showLoading, showError } = await import('./js/modules/ui.js');
            console.log('✅ UI module imported successfully');
            
            const { enhancedMathSystem } = await import('./js/modules/enhancedMathSystem.js');
            console.log('✅ Enhanced math system imported successfully');
            
            const button = document.getElementById('test-btn');
            const input = document.getElementById('test-input');
            const resultDiv = document.getElementById('test-result');
            const resultContent = document.getElementById('result-content');
            const errorLog = document.getElementById('error-log');
            const errorContent = document.getElementById('error-content');
            
            button.addEventListener('click', async () => {
                try {
                    console.log('Test button clicked');
                    const question = input.value.trim();
                    
                    if (!question) {
                        throw new Error('Please enter a question');
                    }
                    
                    // Show loading
                    button.textContent = 'Processing...';
                    button.disabled = true;
                    
                    // Test the question processing
                    console.log('Processing question:', question);
                    resultContent.textContent = 'Question processed: ' + question;
                    resultDiv.classList.remove('hidden');
                    
                } catch (error) {
                    console.error('Test error:', error);
                    errorContent.textContent = error.message;
                    errorLog.classList.remove('hidden');
                } finally {
                    button.textContent = 'Test Question Processing';
                    button.disabled = false;
                }
            });
            
        } catch (error) {
            console.error('Import error:', error);
            document.getElementById('error-content').textContent = 'Import failed: ' + error.message;
            document.getElementById('error-log').classList.remove('hidden');
        }
    </script>
</body>
</html>